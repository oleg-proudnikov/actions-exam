name: npm-publish

description: Publish npm package to registry.npmjs.org using secrets.NPM_TOKEN

runs:
  using: "composite"
  steps:
    - shell: bash
      run: |
        echo "//registry.npmjs.org/:_authToken=${{ secrets.NPM_TOKEN }}" > ~/.npmrc
        #npm config set registry https://registry.npmjs.org/
        npm publish --access public
